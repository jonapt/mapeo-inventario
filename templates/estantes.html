{% extends "base.html" %}
{% block title %}Estantes{% endblock %}

{% block content %}
<h3 class="mb-4">Estantes</h3>
<div>
    <form method="POST" class="card p-3 mb-4">

    <div class="mb-2">
        <label>NÃºmero de estante</label>
        <input
            type="text"
            name="nombre"
            class="form-control"
            required
        >
    </div>

    <div class="mb-2">
        <label>Cantidad de entrepaÃ±os</label>
        <input
            type="number"
            name="total_entrepanos"
            min="1"
            max="15"
            class="form-control"
            required
        >
    </div>

    <div class="mb-3">
        <label>Tipo de estante</label>
        <select name="tipo" class="form-select" required>
            {% for t in tipos %}
                <option value="{{ t }}"
                    {% if t == tipo_actual %}selected{% endif %}
                >
                    {{ t }}
                </option>
            {% endfor %}
        </select>
    </div>

    <button class="btn btn-primary w-100">
        â• Crear estante
    </button>

</form>

</div>

<div class="row">
    {% for estante in estantes %}
    <div class="col-12 col-sm-6 col-md-4 col-lg-3">
        <div class="card h-100 text-center">
            <div class="card-body">
                <h5 class="card-title">Estante {{ estante.nombre }}</h5>
                <p class="card-text">
                     ğŸ“¦ EntrepaÃ±os: <b>{{ estante.entrepanos | length }}</b>
                </p>
            </div>
            <div class="card-footer d-grid gap-2">
                <a href="{{ url_for('detalle_estante', estante_id=estante.id) }}"
                   class="btn btn-primary btn-sm">
                    Ver detalle
                </a>
                <form method="POST"
                      action="{{ url_for('eliminar_estante', estante_id=estante.id) }}">
                    <button class="btn btn-outline-danger btn-sm">
                        Eliminar
                    </button>
                </form>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
